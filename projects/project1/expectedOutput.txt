00000000: 2369 6e63 6c75 6465 203c 7374 6469 6f2e  #include <stdio.
00000010: 683e 0a23 696e 636c 7564 6520 3c63 7479  h>.#include <cty
00000020: 7065 2e68 3e0a 0a69 6e74 206d 6169 6e28  pe.h>..int main(
00000030: 696e 7420 6172 6763 2c20 6368 6172 202a  int argc, char *
00000040: 6172 6776 5b5d 2920 7b0a 2020 202f 2f64  argv[]) {.   //d
00000050: 6563 6c61 7265 2076 6172 6961 626c 6573  eclare variables
00000060: 0a20 2020 6368 6172 206c 6574 7465 723b  .   char letter;
00000070: 0a20 2020 696e 7420 636f 756e 7465 723d  .   int counter=
00000080: 303b 0a20 2020 696e 7420 726f 773d 303b  0;.   int row=0;
00000090: 0a20 2020 6368 6172 206c 696e 655b 3137  .   char line[17
000000a0: 5d3b 0a0a 2020 202f 2f6f 7065 6e20 6669  ];..   //open fi
000000b0: 6c65 2069 6e20 636f 6d6d 616e 6420 6c69  le in command li
000000c0: 6e65 0a20 2020 6966 2861 7267 633d 3d32  ne.   if(argc==2
000000d0: 297b 0a20 2020 2020 2046 494c 4520 2a69  ){.      FILE *i
000000e0: 6e46 696c 6520 3d20 666f 7065 6e28 6172  nFile = fopen(ar
000000f0: 6776 5b31 5d2c 2022 722b 2229 3b0a 0a20  gv[1], "r+");.. 
00000100: 2020 2020 202f 2f6c 6f6f 7073 2074 6872       //loops thr
00000110: 6f75 6768 7420 7468 6520 6669 6c65 2077  ought the file w
00000120: 6869 6c65 2069 7420 7265 6164 7320 6120  hile it reads a 
00000130: 6368 6172 2066 726f 6d20 7468 6520 6669  char from the fi
00000140: 6c65 2061 6e64 2069 7420 6861 7320 6e6f  le and it has no
00000150: 7420 7265 6163 6865 6420 7468 6520 656e  t reached the en
00000160: 6420 6f66 2074 6865 2066 696c 6520 0a20  d of the file . 
00000170: 2020 2020 2077 6869 6c65 2866 7363 616e       while(fscan
00000180: 6628 696e 4669 6c65 2c20 2225 6322 2c20  f(inFile, "%c", 
00000190: 266c 6574 7465 7229 2026 2620 2166 656f  &letter) && !feo
000001a0: 6628 696e 4669 6c65 2929 7b0a 2020 2020  f(inFile)){.    
000001b0: 2020 2020 202f 2f65 6e74 6572 7320 6120       //enters a 
000001c0: 6e65 7720 6c69 6e65 2065 7665 7279 2031  new line every 1
000001d0: 3620 6c6f 6f70 730a 2020 2020 2020 2020  6 loops.        
000001e0: 2069 6628 636f 756e 7465 723d 3d31 3629   if(counter==16)
000001f0: 7b0a 2020 2020 2020 2020 2020 2020 726f  {.            ro
00000200: 772b 2b3b 0a20 2020 2020 2020 2020 2020  w++;.           
00000210: 2070 7269 6e74 6628 2220 2025 2a73 222c   printf("  %*s",
00000220: 2032 2c20 6c69 6e65 293b 0a20 2020 2020   2, line);.     
00000230: 2020 2020 2020 2070 7269 6e74 6628 225c         printf("\
00000240: 6e22 293b 0a20 2020 2020 2020 2020 2020  n");.           
00000250: 2063 6f75 6e74 6572 3d30 3b0a 2020 2020   counter=0;.    
00000260: 2020 2020 207d 0a20 2020 2020 2020 2020       }.         
00000270: 2f2f 6966 2069 6620 6973 2074 6865 2073  //if if is the s
00000280: 7461 7274 206f 6620 6120 6e65 7720 6c69  tart of a new li
00000290: 6e65 2070 7269 6e74 2074 6865 2068 6578  ne print the hex
000002a0: 206f 6620 7468 6520 6c69 6e65 206e 756d   of the line num
000002b0: 6265 720a 2020 2020 2020 2020 2069 6628  ber.         if(
000002c0: 636f 756e 7465 723d 3d30 297b 0a20 2020  counter==0){.   
000002d0: 2020 2020 2020 2020 2070 7269 6e74 6628           printf(
000002e0: 2225 3037 7830 3a20 222c 2072 6f77 293b  "%07x0: ", row);
000002f0: 0a20 2020 2020 2020 2020 7d0a 2020 2020  .         }.    
00000300: 2020 2020 2069 6628 636f 756e 7465 7225       if(counter%
00000310: 323d 3d30 297b 0a20 2020 2020 2020 2020  2==0){.         
00000320: 2020 2070 7269 6e74 6628 2220 2229 3b0a     printf(" ");.
00000330: 2020 2020 2020 2020 207d 0a20 2020 2020           }.     
00000340: 2020 2020 2f2f 7072 696e 7420 6f75 7420      //print out 
00000350: 7468 6520 6865 7820 6f66 2074 6865 2076  the hex of the v
00000360: 616c 7565 2072 6561 6420 696e 0a20 2020  alue read in.   
00000370: 2020 2020 2020 6966 2869 7370 7269 6e74        if(isprint
00000380: 286c 6574 7465 7229 297b 0a20 2020 2020  (letter)){.     
00000390: 2020 2020 2020 2070 7269 6e74 6628 2225         printf("%
000003a0: 7822 2c20 6c65 7474 6572 293b 0a20 2020  x", letter);.   
000003b0: 2020 2020 2020 2020 206c 696e 655b 636f           line[co
000003c0: 756e 7465 725d 203d 206c 6574 7465 723b  unter] = letter;
000003d0: 0a20 2020 2020 2020 2020 2020 2063 6f75  .            cou
000003e0: 6e74 6572 2b2b 3b0a 2020 2020 2020 2020  nter++;.        
000003f0: 207d 0a20 2020 2020 2020 2020 2f2f 6966   }.         //if
00000400: 2074 6865 2076 616c 7565 2072 6561 6420   the value read 
00000410: 696e 2069 7320 756e 7072 696e 7461 626c  in is unprintabl
00000420: 6520 7072 696e 7420 7468 6520 6865 7820  e print the hex 
00000430: 6f66 2022 2e22 0a20 2020 2020 2020 2020  of ".".         
00000440: 656c 7365 7b0a 2020 2020 2020 2020 2020  else{.          
00000450: 2020 7072 696e 7466 2822 2578 222c 2027    printf("%x", '
00000460: 2e27 293b 0a20 2020 2020 2020 2020 2020  .');.           
00000470: 206c 696e 655b 636f 756e 7465 725d 203d   line[counter] =
00000480: 2027 2e27 3b0a 2020 2020 2020 2020 2020   '.';.          
00000490: 2020 636f 756e 7465 722b 2b3b 0a20 2020    counter++;.   
000004a0: 2020 2020 2020 7d0a 2020 2020 2020 7d0a        }.      }.
000004b0: 2020 2020 2020 2f2f 7365 7473 2061 6c6c        //sets all
000004c0: 2074 6865 2065 7874 7261 2073 7061 6365   the extra space
000004d0: 7320 746f 2027 2027 0a20 2020 2020 2066  s to ' '.      f
000004e0: 6f72 2869 6e74 2069 3d63 6f75 6e74 6572  or(int i=counter
000004f0: 3b20 693c 3136 3b69 2b2b 297b 0a20 2020  ; i<16;i++){.   
00000500: 2020 2020 2020 6c69 6e65 5b69 5d3d 2720        line[i]=' 
00000510: 273b 0a20 2020 2020 207d 0a0a 2020 2020  ';.      }..    
00000520: 2020 2f2f 7072 696e 7473 206f 7574 2074    //prints out t
00000530: 6865 206c 6173 7420 6c69 6e65 0a20 2020  he last line.   
00000540: 2020 2070 7269 6e74 6628 2220 2025 2a73     printf("  %*s
00000550: 222c 3331 2c20 6c69 6e65 293b 0a20 2020  ",31, line);.   
00000560: 2020 2070 7269 6e74 6628 225c 6e22 293b     printf("\n");
00000570: 0a0a 2020 2020 2020 2f2f 636c 6f73 6573  ..      //closes
00000580: 2074 6865 2066 696c 650a 2020 2020 2020   the file.      
00000590: 6663 6c6f 7365 2869 6e46 696c 6529 3b0a  fclose(inFile);.
000005a0: 2020 207d 0a20 2020 7265 7475 726e 2030     }.   return 0
000005b0: 3b0a 7d                                  ;.}
